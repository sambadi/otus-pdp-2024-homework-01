# Первое ДЗ в рамках обучения на курсах Otus

Для запуска проекта достаточно:

- склонировать репозиторий;
- установить Python 3.12 любым доступным способом;
- установить зависимости выполнив команду

```shell
 poetry install
```

- скопировать в директорию `./logs` пример с файлом логов (например `nginx-access-ui.log-20170630.gz`)
  или переопределив путь к нему в файле `config.json`
- при необходимости изменить прочие настройки в файле `config.json`
- запуск на выполнение 
```shell
  poetry run python -m homework_01
```

# Использование Makefile

Для удобства использования в проект добавлена поддержка make. Доступны следующий команды:

- `make install` - установка зависимостей;
- `make run` - запуск приложения;
- `make test` - запуск тестов c покрытием;
- `make lint` - запуск проверки кода;

# Параметры конфигурации

- SELF_LOG_FILE_PATH - путь до файла, в который должны быть записаны логи. Если не задан, то лог пишется в `stdout`. По-умолчанию - `None`
- REPORT_SIZE - количество строк для отчета. По-умолчанию 1000 строк
- REPORT_DIR - директория, в которой будут храниться отчеты. Если не задан, то отчет будет сохранён в директории`./reports`.
- LOG_DIR - директория с логами для анализа. Если не задан, то будут использоваться логи из директории `./logs`.
- LOG_FILE_NAME_PATTERN - шаблон имени файла логов. По-умолчанию `nginx-access-ui.log-*`
- LOG_ROW_PATTERN - regex-шаблон строки лога. 
